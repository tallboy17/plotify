<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plotify Pro - AI-Powered Landscape Design</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Add these Firebase scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>

    <style>
        :root {
            --forest-green: #2c6b4b;
            --sky-blue: #4285F4;
            --muted-clay: #8B7D6B;
            --sage-green: #A9B4A9;
            --light-mint-gray: #f4f7f6;
            --white: #FFFFFF;
            --stone-gray: #dde1e6;
            --medium-gray: #555555;
            --charcoal: #333333;
            --success-green: #2e7d32;
            --info-blue: #1565c0;
            --danger-red: #c62828;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--light-mint-gray);
            color: var(--charcoal);
        }

        .hero-slideshow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 2.5s ease-in-out;
            z-index: 1;
        }

        .hero-slide.active {
            opacity: 1;
            z-index: 2;
        }

        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .header-scrolled {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .pricing-card-popular {
            border: 2px solid var(--sky-blue);
            transform: scale(1.05);
        }
    </style>
</head>

<body class="bg-gray-50">

    <!-- Header -->
    <header id="header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#" class="flex items-center gap-2">
                <span class="text-3xl">ü™¥</span>
                <span class="text-2xl font-bold" style="color: var(--forest-green);">Plotify Pro</span>
            </a>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#features" class="text-gray-600 hover:text-gray-900">Features</a>
                <a href="#testimonials" class="text-gray-600 hover:text-gray-900">Testimonials</a>
                <a href="#pricing" class="text-gray-600 hover:text-gray-900">Pricing</a>
            </nav>
            <a href="#" id="google-login-btn"
                class="bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg shadow-sm hover:bg-gray-100 transition duration-200 flex items-center gap-2">
                <svg class="w-5 h-5" viewBox="0 0 48 48">
                    <path fill="#4285F4"
                        d="M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z">
                    </path>
                    <path fill="#34A853"
                        d="M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z">
                        </-path>
                        <path fill="#FBBC05"
                            d="M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238C29.211 35.091 26.715 36 24 36c-5.202 0-9.619-3.317-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z">
                            </-path>
                            <path fill="#EA4335"
                                d="M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.021 35.596 44 30.134 44 24c0-1.341-.138-2.65-.389-3.917z">
                            </path>
                </svg>
                Login with Google
            </a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center justify-center text-white pt-20 overflow-hidden">
        <div class="hero-slideshow">
            <div class="hero-slide active"
                style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1525310072745-f49212b5ac6d?q=80&w=2070&auto=format&fit=crop');">
            </div>
            <div class="hero-slide"
                style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1465146633011-14f8e0781093?q=80&w=2070&auto=format&fit=crop');">
            </div>
            <div class="hero-slide"
                style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1544439249-1d84a7c03fbd?q=80&w=2070&auto=format&fit=crop');">
            </div>
            <div class="hero-slide"
                style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1599684364278-2615b8d25515?q=80&w=2072&auto=format&fit=crop');">
            </div>
            <div class="hero-slide"
                style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1571172828422-6506b3a98ab1?q=80&w=2070&auto=format&fit=crop');">
            </div>
            <div class="hero-slide"
                style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1524311582258-52afee55c119?q=80&w=2070&auto=format&fit=crop');">
            </div>
            <div class="hero-slide"
                style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1490750967868-88aa4486c946?q=80&w=2070&auto=format&fit=crop');">
            </div>
        </div>
        <div class="text-center p-6 max-w-3xl z-10">
            <h2 class="text-5xl md:text-6xl font-extrabold leading-tight mb-4 tracking-tight"
                style="text-shadow: 2px 2px 8px rgba(0,0,0,0.7);">Design Smarter, Not Harder</h2>
            <p class="text-lg md:text-xl mb-8 font-light" style="text-shadow: 1px 1px 4px rgba(0,0,0,0.7);">Leverage AI
                to research, visualize, and organize plant selections for your landscape projects. Collaborate with
                clients and streamline your design process like never before.</p>
            <a href="#pricing"
                class="text-white font-bold py-4 px-8 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105"
                style="background-color: var(--sky-blue);">Get Started Now</a>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-20">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold mb-4">The Future of Landscape Design</h2>
            <p class="text-lg text-gray-600 mb-12 max-w-2xl mx-auto">Plotify Pro brings cutting-edge AI technology to
                your fingertips, transforming the way you create beautiful, sustainable landscapes.</p>
            <div class="grid md:grid-cols-3 gap-10">
                <div class="bg-white p-8 rounded-xl shadow-lg fade-in">
                    <div class="text-4xl mb-4" style="color: var(--forest-green);">üß†</div>
                    <h3 class="text-xl font-bold mb-2">AI-Powered Research</h3>
                    <p class="text-gray-600">Instantly access information, images, and videos for over 3,000 plants. Let
                        our AI find the perfect species for any climate or soil type.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-lg fade-in">
                    <div class="text-4xl mb-4" style="color: var(--forest-green);">üåø</div>
                    <h3 class="text-xl font-bold mb-2">Visual Zone Planning</h3>
                    <p class="text-gray-600">Group your selected plants into custom zones. Drag, drop, and visualize
                        your design to create harmonious and practical layouts.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-lg fade-in">
                    <div class="text-4xl mb-4" style="color: var(--forest-green);">ü§ù</div>
                    <h3 class="text-xl font-bold mb-2">Seamless Collaboration</h3>
                    <p class="text-gray-600">Share your plant palettes and designs with clients. Get feedback in
                        real-time and finalize your plant list together, hassle-free.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="py-20" style="background-color: var(--white);">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold mb-4">Loved by Professionals</h2>
            <p class="text-lg text-gray-600 mb-12 max-w-2xl mx-auto">Hear what landscape designers and architects are
                saying about Plotify Pro.</p>
            <div class="grid md:grid-cols-3 gap-10">
                <div class="bg-gray-50 p-8 rounded-xl shadow-lg fade-in">
                    <img src="https://i.pravatar.cc/100?u=a" alt="User 1"
                        class="w-20 h-20 rounded-full mx-auto mb-4 border-4 border-white shadow-md">
                    <p class="text-gray-600 mb-4">"Plotify Pro has cut my research time in half. The AI suggestions are
                        incredibly accurate and have introduced me to plants I never would have considered."</p>
                    <h4 class="font-bold">- Sarah L., Landscape Architect</h4>
                </div>
                <div class="bg-gray-50 p-8 rounded-xl shadow-lg fade-in">
                    <img src="https://i.pravatar.cc/100?u=b" alt="User 2"
                        class="w-20 h-20 rounded-full mx-auto mb-4 border-4 border-white shadow-md">
                    <p class="text-gray-600 mb-4">"The client collaboration feature is a game-changer. My clients feel
                        more involved in the process, and approvals are faster than ever. A must-have tool."</p>
                    <h4 class="font-bold">- David Chen, Garden Designer</h4>
                </div>
                <div class="bg-gray-50 p-8 rounded-xl shadow-lg fade-in">
                    <img src="https://i.pravatar.cc/100?u=c" alt="User 3"
                        class="w-20 h-20 rounded-full mx-auto mb-4 border-4 border-white shadow-md">
                    <p class="text-gray-600 mb-4">"From plant database to final order sheet, my workflow is now
                        seamless. Plotify Pro is intuitive, powerful, and beautifully designed."</p>
                    <h4 class="font-bold">- Maria Rodriguez, Horticulturist</h4>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="py-20">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold mb-4">Find the Perfect Plan</h2>
            <p class="text-lg text-gray-600 mb-12 max-w-2xl mx-auto">Start for free or unlock powerful professional
                features. Choose the plan that's right for you.</p>
            <div class="flex flex-col md:flex-row justify-center items-center gap-8 max-w-4xl mx-auto">
                <!-- Basic Plan -->
                <div class="bg-white p-8 rounded-xl shadow-lg w-full md:w-1/2 fade-in">
                    <h3 class="text-2xl font-bold mb-2">Basic</h3>
                    <p class="text-5xl font-extrabold mb-4">Free</p>
                    <p class="text-gray-500 mb-6">Perfect for hobbyists and small projects.</p>
                    <ul class="text-left space-y-3 text-gray-600 mb-8">
                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> 1 Active Project</li>
                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Search 3000+ Plants
                        </li>
                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> AI-Powered Research
                        </li>
                        <li class="flex items-center text-gray-400"><span class="mr-2">‚úñ</span> Client Collaboration
                        </li>
                        <li class="flex items-center text-gray-400"><span class="mr-2">‚úñ</span> Unlimited Project
                            Storage</li>
                        <li class="flex items-center text-gray-400"><span class="mr-2">‚úñ</span> Download Plant Lists
                        </li>
                    </ul>
                    <a href="#"
                        class="w-full block text-center font-bold py-3 px-8 rounded-lg border-2 transition duration-300 ease-in-out"
                        style="color: var(--sky-blue); border-color: var(--sky-blue);">Get Started</a>
                </div>

                <!-- Pro Plan -->
                <div class="bg-white p-8 rounded-xl shadow-lg w-full md:w-1/2 relative pricing-card-popular fade-in">
                    <div
                        class="absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2 bg-yellow-400 text-yellow-900 font-bold px-4 py-1 rounded-full text-sm">
                        Most Popular</div>
                    <h3 class="text-2xl font-bold mb-2" style="color: var(--forest-green);">Pro</h3>
                    <p class="text-5xl font-extrabold mb-4">$20<span
                            class="text-lg font-normal text-gray-500">/month</span></p>
                    <p class="text-gray-500 mb-6">For professionals who demand the best.</p>
                    <ul class="text-left space-y-3 text-gray-600 mb-8">
                        <li class="flex items-center"><span class="font-bold mr-2"
                                style="color: var(--forest-green);">‚úî</span> Unlimited Projects</li>
                        <li class="flex items-center"><span class="font-bold mr-2"
                                style="color: var(--forest-green);">‚úî</span> Search 3000+ Plants</li>
                        <li class="flex items-center"><span class="font-bold mr-2"
                                style="color: var(--forest-green);">‚úî</span> AI-Powered Research</li>
                        <li class="flex items-center"><span class="font-bold mr-2"
                                style="color: var(--forest-green);">‚úî</span> Client Collaboration</li>
                        <li class="flex items-center"><span class="font-bold mr-2"
                                style="color: var(--forest-green);">‚úî</span> Unlimited Project Storage</li>
                        <li class="flex items-center"><span class="font-bold mr-2"
                                style="color: var(--forest-green);">‚úî</span> Download Plant Lists</li>
                    </ul>
                    <a href="#"
                        class="w-full block text-white font-bold py-3 px-8 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105"
                        style="background-color: var(--sky-blue);">Choose Pro</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white py-8">
        <div class="container mx-auto px-6 text-center text-gray-600">
            <p>&copy; 2025 Plotify Pro. All rights reserved. Revolutionizing landscape design, one plant at a time.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Header scroll effect
            const header = document.getElementById('header');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('header-scrolled');
                } else {
                    header.classList.remove('header-scrolled');
                }
            });

            // Fade-in animation on scroll
            const faders = document.querySelectorAll('.fade-in');
            const appearOptions = {
                threshold: 0.2,
                rootMargin: "0px 0px -50px 0px"
            };
            const appearOnScroll = new IntersectionObserver(function (entries, appearOnScroll) {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) {
                        return;
                    } else {
                        entry.target.classList.add('visible');
                        appearOnScroll.unobserve(entry.target);
                    }
                });
            }, appearOptions);

            faders.forEach(fader => {
                appearOnScroll.observe(fader);
            });

            // Hero slideshow logic
            const slides = document.querySelectorAll('.hero-slide');
            let currentSlide = 0;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.remove('active');
                });
                slides[index].classList.add('active');
            }

            setInterval(() => {
                currentSlide = (currentSlide + 1) % slides.length;
                showSlide(currentSlide);
            }, 3500); // Change image every 3.5 seconds

            // --- FIREBASE LOGIN LOGIC ---

            // 1. Your Firebase configuration object (paste yours here)
            // IMPORTANT: Replace the placeholder values below with your actual
            // Firebase project's configuration.
            // Dynamic Firebase configuration based on domain
            const currentDomain = window.location.hostname;
            const isLocalhost = currentDomain === 'localhost' || currentDomain === '127.0.0.1';
            
            const firebaseConfig = {
                apiKey: "AIzaSyB9qd27E11AtNXddGGrIjw_SMpvMX9Rj9g",
                authDomain: isLocalhost ? "plotifypro-195ee.firebaseapp.com" : "dev.plotify.pro",
                projectId: "plotifypro-195ee",
                storageBucket: "plotifypro-195ee.firebasestorage.app",
                messagingSenderId: "754999219864",
                appId: "1:754999219864:web:c87092b42344828bae22ed",
                measurementId: "G-0KLXX8P9WW"
            };
            
            console.log('Firebase config for domain:', currentDomain, firebaseConfig);

            // 2. Initialize Firebase
            try {
                firebase.initializeApp(firebaseConfig);
                const auth = firebase.auth();
                const provider = new firebase.auth.GoogleAuthProvider();

                // 3. Add Click Listener to the Login Button
                const googleLoginBtn = document.getElementById('google-login-btn');

                if (googleLoginBtn) {
                    googleLoginBtn.addEventListener('click', (e) => {
                        e.preventDefault(); // Prevent the link from navigating

                        auth.signInWithPopup(provider)
                            .then((result) => {
                                // This is the crucial token you need to send to your backend
                                return result.user.getIdToken();
                            })
                            .then((idToken) => {
                                // Now, send this token to your backend for verification
                                return fetch('/api/auth/google', {
                                    method: 'POST',
                                    headers: {
                                        'Content-Type': 'application/json',
                                    },
                                    body: JSON.stringify({ id_token: idToken }),
                                });
                            })
                            .then(response => response.json())
                            .then(data => {
                                if (data.success) {
                                    // Extract JWT and user data from the new response format
                                    const jwtData = data.data.jwt;
                                    const userData = data.data.user;
                                    
                                    console.log('Received our custom JWT:', jwtData);
                                    console.log('User data:', userData);

                                    // Store JWT and user data for future API calls
                                    localStorage.setItem('jwt_token', jwtData.token);
                                    localStorage.setItem('user_id', jwtData.userId);
                                    localStorage.setItem('username', jwtData.username);
                                    localStorage.setItem('email', jwtData.email);
                                    localStorage.setItem('internal_id', userData.internalId);
                                    localStorage.setItem('subscription', JSON.stringify(userData.subscription));

                                    // Redirect to the dashboard
                                    window.location.href = '/users/projects/';
                                } else {
                                    throw new Error(data.message || 'Authentication failed');
                                }
                            })
                            .catch((error) => {
                                // Handle Errors here.
                                const errorMessage = error.message;
                                console.error('Login failed:', errorMessage);
                                console.error('Full error:', error);
                                
                                // Provide more specific error messages
                                let userMessage = 'Login failed: ' + errorMessage;
                                
                                if (errorMessage.includes('auth/unauthorized-domain')) {
                                    userMessage = 'Domain not authorized. Please contact support.';
                                } else if (errorMessage.includes('auth/popup-closed-by-user')) {
                                    userMessage = 'Login cancelled by user.';
                                } else if (errorMessage.includes('auth/popup-blocked')) {
                                    userMessage = 'Popup blocked by browser. Please allow popups and try again.';
                                } else if (errorMessage.includes('Invalid or expired')) {
                                    userMessage = 'Invalid or expired Google token. Please sign in again.';
                                }
                                
                                alert(userMessage);
                            });
                    });
                }
            } catch (error) {
                console.error("Firebase initialization error:", error);
                if (error.message.includes("apiKey")) {
                    console.warn("Please make sure to replace the placeholder firebaseConfig values with your actual Firebase project configuration.");
                }
            }
        });
    </script>

</body>

</html>